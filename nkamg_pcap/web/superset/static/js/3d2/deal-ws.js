var DealWS={createNew:function(c){var a={};a.atkCtn=c["atkCtn"];function b(d){var f=d["type"];var l=d["data"];var e=l.length;for(var h=0;h<d["data"].length;++h){var g=d["data"][h]["src"][0]+" "+d["data"][h]["src"][1];var k=d["data"][h]["dst"][0]+" "+d["data"][h]["dst"][1];a.atkCtn.addLine({"time":"2015-01-01 21:21:21","type":"type1","atkId":parseInt(Math.random())*10%3,"src":g,"dst":k})}switch(f){case"type1":console.log("attack info"+JSON.stringify(d));for(var h=0;h<e;++h){var j=l[h];a.planet.attack({src:{lat:j.src[0],lng:j.src[1]},dst:{lat:j.dst[0],lng:j.dst[1]},color:"#ff1133",circle:{ttl:800,lineWidth:2},line:{ttl:1600+h*100,lineWidth:2}})}break;case"type2":break;default:}}a.planet=c.planet;a.localws=AttackWS.createNew({host:c["host"],port:c["port"]});a.localws.add({evt:"attack info",hdler:function(d){}});a.localws.run();return a}};
